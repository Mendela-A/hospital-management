{% extends "base.html" %}

{% block title %}–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö{% endblock %}

{% block content %}
<div class="max-w-2xl mx-auto">
    <div class="bg-white rounded-lg shadow-lg p-8">
        <h1 class="text-2xl font-bold text-gray-800 mb-6">–ï–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–∏—Ö –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤ –≤ Excel</h1>
        
        <form method="POST" action="{{ url_for('export.export_form') }}">
            {{ form.hidden_tag() }}
            
            <div class="mb-6 p-4 bg-blue-50 rounded border border-blue-200">
                <p class="text-sm text-blue-800">
                    <strong>–Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è:</strong> –û–±–µ—Ä—ñ—Ç—å –º—ñ—Å—è—Ü—å —ñ —Ä—ñ–∫ –¥–ª—è –µ–∫—Å–ø–æ—Ä—Ç—É –¥–∞–Ω–∏—Ö. 
                    –î–æ–¥–∞—Ç–∫–æ–≤–æ –º–æ–∂–Ω–∞ —Ñ—ñ–ª—å—Ç—Ä—É–≤–∞—Ç–∏ –∑–∞ –≤—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è–º —Ç–∞ –ª—ñ–∫–∞—Ä–µ–º.
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    {{ form.month.label(class="block text-gray-700 font-semibold mb-2") }}
                    {{ form.month(class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                    {% if form.month.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.month.errors[0] }}</p>
                    {% endif %}
                </div>
                
                <div>
                    {{ form.year.label(class="block text-gray-700 font-semibold mb-2") }}
                    {{ form.year(class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500") }}
                    {% if form.year.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.year.errors[0] }}</p>
                    {% endif %}
                </div>
            </div>
            
            <div class="mb-4 p-4 bg-gray-50 rounded border border-gray-200">
                <h3 class="font-semibold text-gray-700 mb-3">–î–æ–¥–∞—Ç–∫–æ–≤—ñ —Ñ—ñ–ª—å—Ç—Ä–∏ (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</h3>
                
                <div class="mb-4">
                    {{ form.department.label(class="block text-gray-700 font-semibold mb-2") }}
                    {{ form.department(class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder="–ó–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –¥–ª—è –≤—Å—ñ—Ö –≤—ñ–¥–¥—ñ–ª–µ–Ω—å") }}
                    {% if form.department.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.department.errors[0] }}</p>
                    {% endif %}
                </div>
                
                <div class="mb-4">
                    {{ form.doctor.label(class="block text-gray-700 font-semibold mb-2") }}
                    {{ form.doctor(class="w-full px-4 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500", placeholder="–ó–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º –¥–ª—è –≤—Å—ñ—Ö –ª—ñ–∫–∞—Ä—ñ–≤") }}
                    {% if form.doctor.errors %}
                        <p class="text-red-500 text-sm mt-1">{{ form.doctor.errors[0] }}</p>
                    {% endif %}
                </div>
                
                <div class="flex items-center">
                    {{ form.include_deceased(class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500") }}
                    {{ form.include_deceased.label(class="ml-2 text-gray-700 font-semibold") }}
                </div>
            </div>
            
            <div class="flex gap-4">
                <button type="submit" class="flex-1 bg-green-600 text-white py-3 rounded hover:bg-green-700 font-semibold flex items-center justify-center gap-2">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
                    </svg>
                    –ï–∫—Å–ø–æ—Ä—Ç—É–≤–∞—Ç–∏ –≤ Excel
                </button>
                <a href="{{ url_for('patients.index') }}" class="flex-1 text-center bg-gray-300 text-gray-700 py-3 rounded hover:bg-gray-400 font-semibold">
                    –°–∫–∞—Å—É–≤–∞—Ç–∏
                </a>
            </div>
        </form>
        
        <div class="mt-6 p-4 bg-yellow-50 rounded border border-yellow-200">
            <p class="text-sm text-yellow-800">
                <strong>üí° –ü–æ—Ä–∞–¥–∞:</strong> –ï–∫—Å–ø–æ—Ä—Ç–æ–≤–∞–Ω–∏–π —Ñ–∞–π–ª –±—É–¥–µ –º—ñ—Å—Ç–∏—Ç–∏ –≤—Å—ñ –¥–∞–Ω—ñ –ø–∞—Ü—ñ—î–Ω—Ç—ñ–≤ –∑–∞ –æ–±—Ä–∞–Ω–∏–π –ø–µ—Ä—ñ–æ–¥ 
                —É –∑—Ä—É—á–Ω–æ–º—É —Ñ–æ—Ä–º–∞—Ç—ñ –¥–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –≤ Excel.
            </p>
        </div>
    </div>
</div>
{% endblock %}